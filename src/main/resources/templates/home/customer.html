<!-- Declaration to "inform" the browser to expect an HTML file -->
<!DOCTYPE html>
<!-- html tag to add css via thymeleaf -->
<html xmlns:th="http://www.thymeleaf.org">
    <!-- Container for metadata -->
    <head>
        <meta charset="UTF-8">
        <!-- Title for the Tab -->
        <title>Customers</title>
        <!-- Link to the css file -->
        <!-- CSS File has to be inside src/main/resources/static -->
        <link th:href="@{/customer.css}" rel="stylesheet"/>
        <link th:href="@{/global.css}" rel="stylesheet"/>
        <!-- Bootstrap works! -->
        <!-- Copy link to use Bootstrap -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
              integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    </head>
<body>
    <div class="navBar">
        <a th:href="@{'/'}" id="homeLink">
            <img class="logo" th:src="@{images/Logo.png}" alt="Logo">
        </a>
        <a class="navBar_href" id="navBar_booking_link" th:href="@{'/booking'}">Booking</a>
        <a class="navBar_href" id="navBar_motorhome_link" th:href="@{'/motorhome'}">Motorhome</a>
        <a class="navBar_href" id="navBar_customer_link" th:href="@{'/customer'}">Customer</a>
    </div>

    <!-- Page Header -->
    <h1 class="title" id="pageHeader">Customers</h1>
    <p class="description">
        The following table shows all the customers saved in the system.<br>
        <a class="href_inText" id="edit_hrefInText">Edit</a> information and <a class="href_inText" id="delete_hrefInText">delete</a> a customer
        through the buttons in the column "Actions". <br>
        <a class="href_inText" id="create_hrefInText">Add</a> a new customer and save it in the system through the "Create New" button.
    </p>
    <div class="container" id="buttonDiv">
        <div class="row">
            <!-- Button for Adding New Customer -->
            <div id="addButton">
                <a th:href="@{'/addCustomer'}">
                    <!-- Bootstrap changes styling based on CLASSES -->
                    <button id="addNewButton" class="btn btn-success">Add New</button>
                </a>
            </div>
        </div>
        <div class="row">
            <!-- Buttons for Sorting -->
            <div id="orderByButtons">
                <a th:href="@{'/customerAtoZ'}">
                    <button class="btn btn-outline-secondary customerButton">Order From A to Z</button>
                </a>
                <a th:href="@{'/customerZtoA'}">
                    <button class="btn btn-outline-secondary customerButton">Order From Z to A</button>
                </a>
                <a th:href="@{'/customer'}">
                    <button class="btn btn-outline-secondary customerButton">Order By Date Added (First to Last)</button>
                </a>
                <a th:href="@{'/customerDateLast'}">
                    <button class="btn btn-outline-secondary customerButton">Order By Date Added (Last to First)</button>
                </a>
            </div>
        </div>
    </div>

    <div class="container">
    <table id="customer-table">
        <thead>
            <tr>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Date of Birth</th>
                <th>Email</th>
                <th>Phone Number</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="customer : ${customers}">
                <td th:text="${customer.getFirst_name()}"/>
                <td th:text="${customer.getLast_name()}"/>
                <td th:text="${customer.getDob()}"/>
                <td th:text="${customer.getEmail()}"/>
                <td th:text="${customer.getPhone_number()}"/>
                <td>
                    <a th:href="@{'/editCustomer/'+${customer.getId()}}">
                        <button class="btn btn-outline-warning" id="editbutton">Edit</button>
                    </a>
                    <a th:href="@{'/deleteCustomer/'+${customer.getId()}}" onclick="return confirm('Are you sure you want to delete? This action cannot be undone.')">
                        <button class="btn btn-outline-danger">Delete</button>
                    </a>
                </td>
            </tr>
        </tbody>
    </table>
    </div>

    <a id="goBack" th:href="@{'/'}">
        <button class="btn btn-outline-secondary goBackButton">Home Page</button>
    </a>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

</body>
</html>